<div class="new-user-block">
  <div class="back-and-title">
  <tui-svg src="tuiIconBackCircleLarge" class="back" routerLink="/.."></tui-svg>
  <h2>Новый сотрудник</h2>
</div>
  <form [formGroup]="createUserForm" (ngSubmit)="saveUser()">
    <div class="user-form-block">
      <div class="user-form-col1">
        <tui-input
          formControlName="name"
          class="user-form-item"
          required
          id="name"
        >
          имя
          <input tuiTextfield type="text" />
        </tui-input>
        <div
          class="error-message"
          *ngIf="
            createUserForm.get('name')?.invalid &&
            (createUserForm.get('name')?.dirty ||
              createUserForm.get('name')?.touched ||
              errors)
          "
        >
          <span>Обязательное поле</span>
        </div>

        <tui-input formControlName="email" class="user-form-item">
          почта
          <input tuiTextfield type="email" />
        </tui-input>
        <div
          class="error-message"
          *ngIf="
            createUserForm.get('email')?.invalid &&
            (createUserForm.get('email')?.dirty ||
              createUserForm.get('email')?.touched ||
              errors)
          "
        >
          <span *ngIf="createUserForm.get('email')?.errors?.['required']"
            >Обязательное поле</span
          >
          <span *ngIf="createUserForm.get('email')?.errors?.['email']"
            >Невалидное значение почты</span
          >
        </div>
        <tui-input-date 
        formControlName="birthDate"
        class="user-form-item"
        tuiUnfinishedValidator="Finish filling the field"
      >
        дата рождения
      </tui-input-date>
        <tui-input formControlName="project" class="user-form-item">
          проект
          <input tuiTextfield type="text" class="user-form-item" />
        </tui-input>
        <button
        tuiButton
        type="submit"
        size="m"
        appearance="accent"
        class="save-user-button"
      >
        Сохранить
      </button>
      </div>
      <div class="user-form-col2">
        <tui-input formControlName="post" class="user-form-item">
          должность
          <input tuiTextfield type="text" />
        </tui-input>
        <tui-input formControlName="about" class="user-form-item">
          информация
          <input tuiTextfield type="text" />
        </tui-input>

        <tui-input-files
          link="Загрузите фото профиля"
          label=" "
          class="user-form-item"
          *ngIf="!control.value"
          accept="image/*"
          [formControl]="control"
          (reject)="onReject($event)"
        ></tui-input-files>

        <tui-files class="user-form-item">
          <tui-file
            *ngIf="loadedFiles$ | async as file"
            [file]="file"
            (removed)="removeFile()" 
            
          ></tui-file>

          <tui-file
            *ngIf="rejectedFiles$ | async as file"
            state="error"
            [file]="file"
            (removed)="clearRejected()"
          ></tui-file>

          <tui-file
            *ngIf="loadingFiles$ | async as file"
            state="loading"
            [file]="file"
          ></tui-file>
        </tui-files>
        <div class="user-form-item">
          <label tuiLabel="Admin">
            <tui-toggle
              formControlName="admin"
              size="l"
              data-appearance="accent"
            ></tui-toggle>
          </label>
        </div>
       
      </div>
    </div>
  </form>
</div>
