<header class="header" *tuiLet=" loggedIn$ | async as loggedIn">
  <div class="header-title-block">
    <div class="header-title-circle"></div>
    <a routerLink="users" class="header-title"> Административная панель </a>
  </div>
  <div class="header-menu" *ngIf="isLoggedIn || loggedIn">
    <tui-hosted-dropdown
      [content]="dropdown"
      [(open)]="open"
      tuiDropdownAlign="right"
      tuiDropdownLimitWidth="min"
    >
      <button
        tuiButton
        class="header-menu-button"
        size="xs"
        appearance="custom"
        [iconRight]="icon" 
      >
        {{ username }}
      </button>
    </tui-hosted-dropdown>
    <ng-template #icon>
      <tui-svg
        src="tuiIconChevronDown"
        class="icon"
        [class.icon_rotated]="open"
      ></tui-svg>
    </ng-template>
    <ng-template #dropdown>
      <tui-data-list role="menu" class="menu-dropdown"
        ><button tuiOption class="menu-dropdown-item" (click)="openProfile()">
          Профиль
        </button>
        <button tuiOption class="menu-dropdown-item" (click)="logout()">
          Выйти
        </button>
      </tui-data-list>
    </ng-template>
  </div>
</header>
